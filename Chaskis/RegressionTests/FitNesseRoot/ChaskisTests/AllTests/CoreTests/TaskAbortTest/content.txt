!define testuser {someone}

By default, our task timeout is 15 seconds.
Make our timeout 20 seconds, so can be sure we don't run into race conditions.

!define sleeptime {20000}

 * Ensure a task that delays our parsing thread gets the boot.
|'''Send Message'''    |!chaskistest sleep ${sleeptime}                     |'''To Channel'''|${channel1}|'''as'''|${testuser}|
|'''Wait For Message'''|Sleeping\s+for\s+\d+ms                              |'''On Channel'''|${channel1}                     |
|'''Wait For Message'''|Caught\s+ThreadInterruptedException\s+during\s+sleep|'''On Channel'''|${channel1}|'''With Timeout'''|${sleeptime}        |

!include <ChaskisTests.BuildingBlocks.SendCanary